import{NodeContext as m,NodeRuntime as r}from"@effect/platform-node";import{Match as t,pipe as a,Effect as n,Console as c}from"effect";import*as o from"@effect/schema/Schema";const f=e=>t.value(e).pipe(t.when({kind:"effect"},()=>"Hello from Effect!"),t.when({kind:"named"},({name:i})=>`Hello, ${i}!`),t.exhaustive),p=o.Struct({name:o.optionalWith(o.NonEmptyString,{default:()=>"Effect"})}),d=e=>e.name.toLowerCase()==="effect"?{kind:"effect"}:{kind:"named",name:e.name},l=a(n.sync(()=>process.argv.slice(2)),n.map(e=>e.length>0&&e[0]!==void 0?{name:e[0]}:{}),n.flatMap(o.decodeUnknown(p)),n.map(e=>d(e))),s=a(l,n.map(e=>f(e)),n.tap(c.log)),h=a(s,n.provide(m.layer));r.runMain(h);
//# sourceMappingURL=main.js.map
